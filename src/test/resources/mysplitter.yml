mysplitter:
  databasesRoutingHandler: com.mysplitter.MyDatabasesRouter # ignore when only one database. com.xxx.xxx # implements com.mysplitter.advise.MySplitterDatabasesRoutingHandlerAdvise
  readAndWriteParser: com.mysplitter.DefaultReadAndWriteParser
  filters: # implements com.mysplitter.advise.MySplitterFilterAdvise(optional)
    - com.mysplitter.MyDataSourceFilters1
    - com.mysplitter.MyDataSourceFilters2
  common:
    dataSourceClass: com.alibaba.druid.pool.DruidDataSource
    highAvailable:
      integrate:
        enabled: false
        lazyLoad: false
        detectionSql: SELECT 1
        switchOpportunity: on-error # scheduled on-error-dissolve (support one)
        healthyHeartbeatRate: 1s # s=second, m=minute, h=hour
        illHeartbeatRate: 20s # s=second, m=minute, h=hour
        illAlertHandler: com.mysplitter.MyDataSourceIllAlertHandler # implements com.mysplitter.advise.MySplitterDataSourceIllAlertAdvise(optional)
      read:
        enabled: true
        lazyLoad: true # if true, create dataSource when switch, heartbeat would't check uncreated dataSource.
        detectionSql: SELECT 1
        switchOpportunity: on-error # scheduled on-error-dissolve (support one)
        healthyHeartbeatRate: 1s # s=second, m=minute, h=hour
        illHeartbeatRate: 20s # s=second, m=minute, h=hour
        illAlertHandler: com.mysplitter.MyDataSourceIllAlertHandler # implements com.mysplitter.advise.MySplitterDataSourceIllAlertAdvise(optional)
      write:
        enabled: false
        lazyLoad: false
        detectionSql: SELECT 1
        switchOpportunity: on-error # scheduled on-error-dissolve (support one)
        healthyHeartbeatRate: 1s # s=second, m=minute, h=hour
        illHeartbeatRate: 20s # s=second, m=minute, h=hour
        illAlertHandler: com.mysplitter.MyDataSourceIllAlertHandler # implements com.mysplitter.advise.MySplitterDataSourceIllAlertAdvise(optional)
    loadBalance:
      read:
        enabled: true
        strategy: polling # random weight (default 1, change weight in reader or writer.)
      write:
        enabled: true
        strategy: polling # random
  databases:
    database-a: # database-DatabaseName e.g.database-master database-192.168.1.1:3306
#      dataSourceClass: com.alibaba.druid.pool.DruidDataSource
      readers:
        reader-read-slave-1:
          # dataSourceClass: (optional high priority)
          configuration: # dataSource configuration
            url: jdbc:mysql://localhost:3306/user
            username: root
            password: admin
            driverClassName: com.mysql.jdbc.Driver
        reader-read-slave-2:
          # dataSourceClass: (optional high priority)
          configuration: # dataSource configuration
            url: jdbc:mysql://localhost:3306/user
            username: root
            password: admin
            driverClassName: com.mysql.jdbc.Driver
      writers:
        writer-write-master-1:
          configuration: # dataSource configuration
            url: jdbc:mysql://localhost:3306/user
            username: root
            password: admin
            driverClassName: com.mysql.jdbc.Driver
    database-b: # database-DatabaseName e.g.database-master database-192.168.1.1:3306
      # dataSourceClass: (optional)
      integrates:
        integrate-slave-1:
          dataSourceClass: com.zaxxer.hikari.HikariDataSource
          configuration: # dataSource configuration
            jdbcUrl: jdbc:mysql://localhost:3306/dept
            username: root
            password: admin
            driverClassName: com.mysql.jdbc.Driver